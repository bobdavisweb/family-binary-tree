{"version":3,"sources":["lib/components/AddUserButton.js","lib/components/MissingUser.js","lib/components/BinaryTreeNode.js","lib/components/DistributorDetailsModal.js","lib/components/LeftSidebar.js","lib/components/ContextMenu.js","lib/components/NavButtons.js","lib/components/util.js","lib/components/BinaryTree.js","lib/index.js","examples/App.js","index.js"],"names":["AddUserButton","this","props","parent","side","allUsers","className","style","borderRadius","React","Component","BinaryTreeNode","user","deep","maxDeep","renderDetail","renderNode","onClick","colorText","imageFake","nameFake","toggleContextMenu","leftChild","find","item","id","left_child_id","rightChild","right_child_id","contextMenuListener","e","preventDefault","pressTimer","liClass","onContextMenu","onMouseUp","clearTimeout","onMouseDown","persist","window","setTimeout","href","src","image","color","username","position","edit","DistributorDetailsModal","show","close","toggleEdit","applyChange","onFileUploadChange","display","type","onChange","console","log","htmlFor","defaultValue","onKeyPress","LeftSideBar","bgSideBar","displayLevel","colorSideBar","numLevels","goToLevel","Array","keys","map","level","backgroundColor","height","ContextMenu","focusUser","addUser","toggleDetailsModalOn","disabled","NavButtons","selectedUser","rootUser","selectedUserLevel","bgButton","colorButton","depth","goToTop","upOneLevel","downOneLevel","goToBottomLeft","goToBottomRight","searchUserHandler","goToLevelHandler","marginBottom","name","list","onInput","min","max","inNeighbors","graph","labels","filter","node","some","label","outNeighbors","hasPath","node1","node2","closed","node1_out","includes","concat","getNodeCycles","prefix","flat","getRoots","length","checkTree","checked","push","roots","root","parents","cycles","inCycle","cycle","getCycles","depthUnderNode","tree","current_depth","Math","getNodesAtDepthUnderNodes","d","nodes","BinaryTree","state","showContextMenu","showContextMenuEdit","showDetailsModal","disableNavigation","disableSideBar","currentRoots","root_id","depthUnderUser","setState","currentUser","currentLevel","goToUser","onClickUser","userId","positionMenu","menu","document","querySelector","menuPosition","posx","posy","event","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","x","y","getPosition","menuPositionX","menuPositionY","left","top","onclick","toggleMenuOff","onFileReaderLoad","target","result","forceUpdate","input","getAttribute","options","querySelectorAll","value","hiddenInput","getElementById","innerText","parseInt","isNaN","leg","newId","newUser","charCode","file","files","fr","FileReader","onload","readAsDataURL","data","properties","addEventListener","vw","innerWidth","setProperty","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.b1f5b753.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class AddUserButton extends React.Component {\n  render() {\n    const {\n      parent,\n      side,\n      allUsers\n    } = this.props;\n\n    function addUser(){\n      console.log(\"addUser:\", parent, side)\n    }\n    return (\n      <li>\n        <div className=\"a-substitute\">\n          <div className=\"distributor-wrap\">\n            <div className=\"avatar\" style={{borderRadius: 0}}>\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\";\nimport AddUserButton from \"./AddUserButton\";\n\n// const fakeUser = {\n//   id: \"null\",\n//   username: \"Null\",\n//   left_child_id: null,\n//   right_child_id: null,\n//   image: \"https://i.imgur.com/AFj9jns.png\"\n// };\nexport default class BinaryTreeNode extends React.Component {\n  render() {\n    return (\n      <li className=\"missing\">\n        <div className=\"a-substitute\">\n          <div className=\"distributor-wrap\">\n            <div className=\"avatar\">\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n","import React, {useState} from \"react\";\nimport AddUserButton from \"./AddUserButton\";\nimport MissingUser from \"./MissingUser\";\nimport Modal from 'react-bootstrap/Modal'\n\n\nexport default class BinaryTreeNode extends React.Component {\n  render() {\n    const {\n      user,\n      allUsers,\n      deep,\n      maxDeep = 4,\n      renderDetail,\n      renderNode,\n      onClick,\n      colorText = \"#333\",\n      imageFake = \"https://i.imgur.com/AFj9jns.png\",\n      nameFake = \"Null\",\n      toggleContextMenu\n    } = this.props;\n    const fakeUser = {\n      id: \"null\",\n      username: nameFake,\n      left_child_id: null,\n      right_child_id: null,\n      image: imageFake\n    };\n    let leftChild = user ? (allUsers.find(item => item.id === user.left_child_id)) : null;\n    let rightChild = user ? (allUsers.find(item => item.id === user.right_child_id)) : null;\n\n    function contextMenuListener(e){\n      e.preventDefault();\n      toggleContextMenu(user,e);\n    }\n    let liClass = user ? \"user\" : \"missing\";\n\n    var pressTimer;\n\n\n    return (\n      <li className={liClass}>\n        <div>\n        {colorText && user && (\n          <a\n            onClick={() => {\n              onClick && onClick(user.id);\n            }}\n            onContextMenu={contextMenuListener}\n            onMouseUp={() => {\n              clearTimeout(pressTimer)\n              }\n            }\n            onMouseDown={(e) => {\n              e.persist()\n              pressTimer = window.setTimeout(() => {\n                contextMenuListener(e)\n              }, 1000)\n            }}\n            href=\"javascript:void(0)\"\n          >\n            {renderNode ? (\n              renderNode(user)\n            ) : (\n              <div className=\"distributor-wrap\">\n                <div className=\"avatar\">\n                  <img src={user.image} />\n                </div>\n                <span className=\"name\" style={{ color: colorText }}>\n                  {user.username}\n                </span>\n              </div>\n            )}\n            <div className=\"distributor-details\">\n              {renderDetail ? (\n                renderDetail(user)\n              ) : (\n                <div className=\"details-wrap\">\n                  <div className=\"details-title\">Details In RenderDetail</div>\n                  <div className=\"details-row\">\n                    <div className=\"label\">NAME</div>\n                    <div className=\"value\">{user.username}</div>\n                  </div>\n                </div>\n              )}\n              <div className=\"horizontal-line\" />{\" \"}\n              <div className=\"sloping-line\" />\n            </div>\n          </a>\n        )}\n\n        {deep < maxDeep && (leftChild || rightChild) && (\n            <ul style={{position: 'relative'}}>\n              {leftChild ? (\n              <BinaryTreeNode\n                deep={deep + 1}\n                maxDeep={maxDeep}\n                allUsers={allUsers}\n                user={leftChild}\n                renderDetail={renderDetail}\n                renderNode={renderNode}\n                onClick={onClick}\n                colorText={colorText}\n                imageFake={imageFake}\n                nameFake={nameFake}\n                toggleContextMenu={toggleContextMenu}\n              />\n            ) : (user.edit ? (\n              <AddUserButton\n                parent={user}\n                side={false}\n                allUsers={allUsers}\n              />\n            ) : (\n              <MissingUser/>\n            ))}\n            {rightChild ? (\n              <BinaryTreeNode\n                deep={deep + 1}\n                maxDeep={maxDeep}\n                allUsers={allUsers}\n                renderDetail={renderDetail}\n                renderNode={renderNode}\n                user={rightChild}\n                onClick={onClick}\n                colorText={colorText}\n                imageFake={imageFake}\n                nameFake={nameFake}\n                toggleContextMenu={toggleContextMenu}\n              />\n            ) : (user.edit ? (\n              <AddUserButton\n                parent={user}\n                side={true}\n                allUsers={allUsers}\n              />\n            ) : (\n              <MissingUser/>\n            ))}\n            <div className=\"arrow-up\"></div>\n          </ul>\n        )}\n        </div>\n      </li>\n    );\n  }\n}\n","import React from \"react\";\nimport { FaPen } from \"react-icons/fa\";\n\nexport default class DistributorDetailsModal extends React.Component {\n  render() {\n    const {\n      show,\n      user,\n      close,\n      edit,\n      toggleEdit,\n      applyChange,\n      onFileUploadChange\n    } = this.props;\n\n    return (\n        <div className=\"distributor-details-modal\" style={{display: show ? 'block' : 'none'}}>\n          <div className=\"distributor-details-modal-img-div\">\n            <input id=\"input-image\" type=\"file\" onChange={(e) => {console.log(\"onChange\"); onFileUploadChange(e)}}/>\n            <label htmlFor=\"input-image\">\n              <img src={user ? user.image : ''}/>\n            </label>\n          </div>\n          <div className=\"distributor-details-modal-field\">\n            <label>\n              <b>Name</b>\n            </label>\n            {edit ? (\n              <input id=\"input-username\" type=\"text\" className=\"input\" defaultValue={user ? user.username : ''} onKeyPress={(e) => applyChange(e)}/>\n            ) : (\n              <div className=\"value\">{user ? user.username : ''}</div>\n            )}\n            {!edit && (\n              <button className=\"edit-button\" onClick={toggleEdit}><FaPen/></button>\n            )}\n          </div>\n          <div className=\"close-modal\">\n            <button onClick={close}>Close</button>\n          </div>\n        </div>\n    )\n  }\n}\n","import React from \"react\";\n\nexport default class LeftSideBar extends React.Component {\n  render() {\n    const {\n      bgSideBar,\n      colorSideBar,\n      displayLevel,\n      numLevels,\n      goToLevel\n    } = this.props;\n\n    return(\n\n      <div className=\"leftSidebar\">\n        <div className=\"levels-wrap\">\n          {\n            [...Array(numLevels).keys()].map(level =>\n              <div className=\"level\" key={level} style={{backgroundColor: bgSideBar,  height: (100/numLevels) + '%'}} onClick={() => {goToLevel(displayLevel + level)}}>\n                <span className=\"level-label\">\n                    Level {displayLevel + level}\n                </span>\n              </div>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport { FaChevronUp, FaAngleDoubleUp, FaArrowDown, FaAngleDoubleDown } from \"react-icons/fa\";\n\n\nexport default class ContextMenu extends React.Component {\n  render() {\n    const {\n      show,\n      focusUser,\n      addUser,\n      toggleDetailsModalOn\n    } = this.props;\n\n    return(\n      <nav id=\"context-menu\" className=\"context-menu\" style={{display: show ? 'block' : 'none'}}>\n        {focusUser && (\n          <div>\n            <div id=\"context-menu__user\">\n              {focusUser.username}\n            </div>\n            <div id=\"context-menu__options\">\n              <ul className=\"context-menu__items\">\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    onClick={() => {\n                      toggleDetailsModalOn(focusUser)\n                    }}>\n                    View User\n                  </button>\n                </li>\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    disabled={focusUser.left_child_id !== null}\n                    onClick={() => {\n                      addUser(focusUser, 'left_child_id')\n                    }}\n                  >\n                    Add left leg\n                  </button>\n                </li>\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    disabled={focusUser.right_child_id !== null}\n                    onClick={() => {\n                      addUser(focusUser, 'right_child_id')\n                    }}\n                  >\n                    Add right leg\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </nav>\n    )\n  }\n}\n","import React from \"react\";\nimport { FaChevronUp, FaAngleDoubleUp, FaArrowDown, FaAngleDoubleDown } from \"react-icons/fa\";\n\n\nexport default class NavButtons extends React.Component {\n  render() {\n    const {\n      rootUser,\n      selectedUser,\n      selectedUserLevel,\n      displayLevel,\n      bgButton,\n      colorButton,\n      depth,\n      goToTop,\n      upOneLevel,\n      downOneLevel,\n      goToBottomLeft,\n      goToBottomRight,\n      searchUserHandler,\n      goToLevelHandler\n    } = this.props;\n\n    return(\n      <div className=\"navigation\">\n        <div style={{marginBottom: '5px'}}>\n          <label>Go to user</label>\n          <input id=\"searchUser\" name=\"searchUser\" list=\"usernames\" onInput={searchUserHandler}></input>\n          <input type=\"hidden\" name=\"searchUser\" id=\"searchUser-hidden\"/>\n        </div>\n        <div style={{marginBottom: '5px'}}>\n          <label>Go to level</label>\n          <input id=\"goToLevel\" type=\"number\" min=\"0\" max={depth-1} onChange={goToLevelHandler}></input>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={goToTop}\n            disabled={selectedUserLevel + displayLevel === 0}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaChevronUp />\n            </i>\n            <span className=\"button-text\">Go to top</span>\n          </button>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={upOneLevel}\n            disabled={selectedUserLevel + displayLevel === 0}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaAngleDoubleUp />\n            </i>\n            <span className=\"button-text\">Up one level</span>\n          </button>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={downOneLevel}\n            disabled={selectedUserLevel >= depth - 1}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaAngleDoubleDown />\n            </i>\n            <span className=\"button-text\">Down</span>\n          </button>\n        </div>\n        <div className=\"buttons buttons-bottom\">\n          <button\n            className=\"button-left button-tree\"\n            type=\"button\"\n            onClick={goToBottomLeft}\n            disabled={!selectedUser.left_child_id}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaArrowDown />\n            </i>\n            <span className=\"button-text\">Bottom left</span>\n          </button>\n          <button\n            className=\"button-right button-tree\"\n            type=\"primary\"\n            onClick={goToBottomRight}\n            disabled={!selectedUser.right_child_id}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaArrowDown />\n            </i>\n            <span className=\"button-text\">Bottom right</span>\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","function inNeighbors(id,graph,labels){\n  return graph.filter(node => labels.some(label => label in node && node[label] === id)).map(node => node.id)\n}\n\nfunction outNeighbors(id,graph,labels){\n  for(const node of graph){\n    if(node.id === id){\n      return labels.filter(label => label in node && node[label] !== null).map(label => node[label])\n    }\n  }\n}\n\nfunction hasPath(graph,labels,node1, node2, closed){\n  const node1_out = outNeighbors(node1,graph,labels)\n  return node1_out.includes(node2) || node1_out.some(id => !(closed.includes(id)) && hasPath(graph,labels,id,node2, closed.concat([node1])))\n}\n\nfunction getNodeCycles(id, graph, labels, prefix){\n  for(const node of graph){\n    if(node.id === id){\n      const nodeCycles = labels.filter(\n            label => label in node && node[label] !== null\n        ).map(\n            label => !(prefix.includes(node[label])) ? getNodeCycles(node[label], graph, labels, prefix.concat([node[label]])) : [prefix.concat([node[label]])]\n        ).flat()\n      return nodeCycles;\n    }\n  }\n}\n\nfunction getCycles(graph,labels){\n  var cycles = [];\n  for(const node of graph){\n    var inCycle = false;\n    for(const cycle of cycles){\n      for(const id of cycle){\n        if(node.id === id){\n          inCycle = true;\n          break;\n        }\n      }\n      if(inCycle){\n        break;\n      }\n    }\n    if(inCycle){\n      continue;\n    }\n    cycles = cycles.concat(getNodeCycles(node.id,graph,labels,[node.id]))\n  }\n  return cycles;\n}\n\nfunction getRoots(graph,labels){\n  return graph.filter(node => inNeighbors(node.id,graph,labels).length === 0)\n}\n\nfunction uniqueNodes(graph){\n  let checked = []\n  for(const node in graph){\n    if(checked.includes(node.id)){\n      return false;\n    }\n    checked.push(node.id)\n  }\n  return true;\n}\n\nfunction checkTree(graph,labels){\n  // assert all nodes have unique ids\n  let checked = []\n  for(const node of graph){\n    if(checked.includes(node.id)){\n      throw `checkTree: node id \"${node.id}\" occurs more than once`\n    }\n    checked.push(node.id)\n  }\n\n  // assert that the graph is rooted\n  const roots = getRoots(graph,labels)\n  if(roots.length === 0){\n    throw `checkTree: graph has no root`\n  }\n  if(roots.length > 1){\n    throw `checkTree: graph has multiple roots: ${roots.map(root => root.id)}`\n  }\n  const root = roots[0]\n\n  // assert that the nodes have in-degree at most 1\n  for(const node of graph){\n    const parents = inNeighbors(node.id,graph,labels)\n    if(parents.length > 1){\n      throw `checkTree: node ${node.id} has multiple parents: ${parents}`\n    }\n  }\n\n  // assert there are no cycles\n  const cycles = getCycles(graph,labels)\n  if(cycles.length > 0){\n    throw `checkTree: graph contains cycles: ${cycles}`\n  }\n\n  // assert the graph is connected\n  // NOTE: this should actually be redundant given the other checks\n  for(const node of graph){\n    if(node.id !== root.id && !hasPath(graph,labels,root.id,node.id,[])){\n      throw `checkTree: node ${node.id} is disconnected from root`\n    }\n  }\n\n  return true;\n}\n\nfunction depthUnderNode(id, tree, labels, current_depth){\n  // Depth can't exceed the # of nodes; use this property to force termination with error\n  if(current_depth > tree.length){\n    throw `depth: termination check, current_depth ${current_depth} exceeds # of nodes in tree, ${tree.length}`\n  }\n  for(const node of tree){\n    if(node.id === id){\n      return 1 + Math.max(...(labels.map(label => (label in node && node[label] !== null) ? depthUnderNode(node[label],tree,labels, current_depth+1) : 0)))\n    }\n  }\n  throw `depth: node id=${id} not found in graph`\n}\n\nfunction depth(tree,labels){\n  if(tree.length === 0){\n    return 0;\n  }\n  const roots = getRoots(tree,labels)\n  // If there is no root then there's no meaningful place to measure depth from.\n  if(roots.length === 0){\n    throw `depth: no root found`\n  }\n  // If there are multiple roots then the depth is the max of the depths under each root\n  return Math.max(...(roots.map(root => depthUnderNode(root.id,tree,labels,0))))\n}\n\nfunction getNodesAtDepthUnderNodes(tree,labels,d,nodes){\n  if(d === 0){\n    return nodes\n  }\n  return getNodesAtDepthUnderNodes(tree, labels, d-1, nodes.map(node => outNeighbors(node,tree,labels)).flat())\n}\n\nfunction getNodesAtDepthUnderNode(tree,labels,d,node){\n  return getNodesAtDepthUnderNodes(tree,labels,d,[node])\n}\n\nfunction getNodesAtDepth(tree,labels,d){\n  if(d < 0 || !Number.isInteger(d)){\n    throw `getNodesAtDepth: depth ${d} must be non-negative integer`\n  }\n  const roots = getRoots(tree,labels).map(node => node.id)\n  if(roots.length === 0){\n    throw `getNodesAtDepth: no root found`\n  }\n  return getNodesAtDepthUnderNodes(tree,labels,d,roots)\n}\n\n\nexport {checkTree, depth, depthUnderNode, getNodesAtDepthUnderNode}\n","import React from \"react\";\nimport BinaryTreeNode from \"./BinaryTreeNode\";\nimport \"./BinaryTree.scss\";\nimport DistributorDetailsModal from './DistributorDetailsModal'\nimport LeftSidebar from './LeftSidebar'\nimport ContextMenu from './ContextMenu'\nimport NavButtons from './NavButtons'\nimport {checkTree, depth, getNodesAtDepthUnderNode, depthUnderNode} from './util.js'\n\nexport default class BinaryTree extends React.Component {\n  constructor(props) {\n    super(props);\n    checkTree(props.allUsers,['left_child_id','right_child_id'])\n    this.state = {\n      selectedUser: props.rootUser, // user acting as current root\n      selectedUserLevel: props.level, // depth of selectedUser under root\n      displayLevel: props.level, // depth to display\n      depth: depth(props.allUsers,['left_child_id','right_child_id']), // depth of whole tree\n      showContextMenu: false,\n      showContextMenuEdit: false,\n      focusUser: null,\n      showDetailsModal: false,\n      edit: false\n    };\n  }\n  render() {\n    const {\n      allUsers = [],\n      imageFake,\n      nameFake,\n      maxDeep,\n      renderDetail,\n      renderNode,\n      disableNavigation = false,\n      disableSideBar = false,\n      bgSideBar = '#00b6eb',\n      colorSideBar = '#ffffff',\n      colorText,\n      bgButton = '#808285',\n      colorButton = '#ffffff',\n      showContextMenu\n    } = this.props;\n\n    let rootUser = this.props.rootUser;\n    let selectedUserLevel = this.state.selectedUserLevel;\n    let currentRoots = getNodesAtDepthUnderNode(allUsers,['left_child_id','right_child_id'],this.state.displayLevel - this.state.selectedUserLevel,this.state.selectedUser.id).map(root_id => allUsers.find(user => user.id === root_id))\n    let depthUnderUser = depthUnderNode(this.state.selectedUser.id,allUsers,['left_child_id','right_child_id'],0)\n    let numLevels = Math.min(maxDeep, depthUnderUser - (this.state.displayLevel - this.state.selectedUserLevel))\n\n    const genId = () => {\n      return Math.max(...allUsers.map(user => user.id)) + 1\n    }\n\n    const goToTop = () => {\n      this.setState({\n        selectedUser: this.props.rootUser,\n        selectedUserLevel: 0,\n        displayLevel: 0\n      });\n    };\n    const goToBottomLeft = () => {\n      let user = rootUser;\n      let level = selectedUserLevel;\n      while (user && user.left_child_id) {\n        user = allUsers.find(item => item.id === user.left_child_id);\n        level++;\n      }\n      if (user) {\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    };\n    const goToBottomRight = () => {\n      let user = rootUser;\n      let level = selectedUserLevel;\n      while (user && user.right_child_id) {\n        user = allUsers.find(item => item.id === user.right_child_id);\n        level++;\n      }\n      if (user) {\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    };\n\n    const upOneLevel = () => {\n      if(this.state.displayLevel > 0){\n        this.setState({\n          displayLevel: this.state.displayLevel - 1\n        })\n      }\n    };\n\n    const downOneLevel = () => {\n      if(this.state.displayLevel < depthUnderUser - 1){\n        this.setState({\n          displayLevel: this.state.displayLevel + 1\n        })\n      }\n    }\n\n    const goToLevel = (level) => {\n      if(level < 0){\n        return\n      }\n      if(level >= this.state.selectedUserLevel){\n        this.setState({\n          displayLevel: level\n        })\n      }else{\n        let currentUser = this.state.selectedUser\n        let currentLevel = this.state.selectedUserLevel - level\n        while(currentLevel > 0){\n          currentUser=this.props.allUsers.find(\n            (user) =>\n              user.left_child_id === currentUser.id ||\n              user.right_child_id === currentUser.id\n          )\n          currentLevel--\n        }\n        this.setState({\n          selectedUser: currentUser,\n          selectedUserLevel: level,\n          displayLevel: level\n        })\n      }\n    }\n\n    const goToLevelHandler = () => {\n      const level = parseInt(document.getElementById(\"goToLevel\").value)\n      if((!isNaN(level)) && level < this.state.depth){\n        goToLevel(level)\n      }\n    }\n\n    const goToUser = (user) => {\n      if(user){\n        let level = -1;\n        let currentUser = user;\n        while(currentUser){\n          currentUser=this.props.allUsers.find(\n            (user) =>\n              user.left_child_id === currentUser.id ||\n              user.right_child_id === currentUser.id,\n          );\n          level++;\n        }\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    }\n\n    const searchUserHandler = (e) => {\n      var input = e.target,\n          list = input.getAttribute('list'),\n          options = document.querySelectorAll('#' + list + ' option[value=\"'+input.value+'\"]'),\n          hiddenInput = document.getElementById(input.getAttribute('id') + '-hidden');\n\n      if (options.length > 0) {\n        hiddenInput.value = input.value;\n        input.value = options[0].innerText;\n        const user = allUsers.find(item => item.id === parseInt(hiddenInput.value));\n        goToUser(user)\n      }\n    }\n\n    const onClickUser = (userId) => {\n      const user = allUsers.find(item => item.id === userId);\n      goToUser(user)\n    }\n\n    const getPosition = (e) => {\n      var posx = 0;\n      var posy = 0;\n\n      if (!e) var e = window.event;\n\n      if (e.pageX || e.pageY) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else if (e.clientX || e.clientY) {\n        posx = e.clientX + document.body.scrollLeft +\n                           document.documentElement.scrollLeft;\n        posy = e.clientY + document.body.scrollTop +\n                           document.documentElement.scrollTop;\n      }\n\n      return {\n        x: posx,\n        y: posy\n      }\n    }\n\n    const positionMenu = (e) => {\n      var menu = document.querySelector(\"#context-menu\")\n      var menuPosition = getPosition(e);\n      var menuPositionX = menuPosition.x + \"px\";\n      var menuPositionY = menuPosition.y + \"px\";\n\n      menu.style.left = menuPositionX;\n      menu.style.top = menuPositionY;\n    }\n\n    const toggleContextMenu = (user , e) => {\n      console.log(e)\n      positionMenu(e)\n      this.setState({\n        showContextMenu: true,\n        showContextMenuEdit: user.edit,\n        focusUser: user\n      });\n      document.onclick = toggleMenuOff;\n\n    };\n    const toggleMenuOff = () => {\n      this.setState({\n        showContextMenu: false,\n        showContextMenuEdit: false\n      })\n      document.onclick = null;\n    }\n    const toggleDetailsModalOn = (user) => {\n      this.setState({\n        showDetailsModal: true,\n        focusUser: user,\n        edit: false\n      })\n    }\n    const toggleDetailsModalOff = () => {\n      this.setState({\n        showDetailsModal: false,\n        focusUser: null,\n        edit: false\n      })\n    }\n\n    const toggleEdit = () => {\n      this.setState({\n        edit: true\n      })\n    }\n\n    const applyChange = (e) => {\n      if(e.charCode === 13){\n        const value = document.getElementById(\"input-username\").value\n        this.setState({\n          edit: false\n        })\n        this.state.focusUser.username = value;\n      }\n    }\n\n    const addUser = (user,leg) => {\n      const newId = genId()\n      const newUser = {\n        id: newId,\n        left_child_id: null,\n        right_child_id: null,\n        username: '',\n        image: \"https://i.imgur.com/yzUDPMJ.png\"\n      }\n      allUsers.push(newUser)\n      user[leg] = newId\n      toggleDetailsModalOn(newUser)\n      toggleEdit()\n    }\n\n\n\n    const onFileUploadChange = (e) => {\n    \tvar file = e.target.files[0];\n    \tvar fr = new FileReader();\n    \tfr.onload = onFileReaderLoad;\n    \tfr.readAsDataURL(file);\n    }\n\n    const onFileReaderLoad = (e) => {\n      this.state.focusUser.image = e.target.result\n      this.forceUpdate()\n    }\n\n    return (\n      <div id=\"binary-tree\" className=\"Treant\">\n        {disableNavigation, bgButton, colorButton && (\n          <NavButtons\n            rootUser={rootUser}\n            selectedUser={this.state.selectedUser}\n            selectedUserLevel={this.state.selectedUserLevel}\n            displayLevel={this.state.displayLevel}\n            bgButton={bgButton}\n            colorButton={colorButton}\n            depth={this.state.depth}\n            goToTop={goToTop}\n            upOneLevel={upOneLevel}\n            downOneLevel={downOneLevel}\n            goToBottomLeft={goToBottomLeft}\n            goToBottomRight={goToBottomRight}\n            searchUserHandler={searchUserHandler}\n            goToLevelHandler={goToLevelHandler}\n          />\n        )}\n        {\n          (selectedUserLevel,\n          disableSideBar, bgSideBar, colorSideBar && (\n            <LeftSidebar\n              bgSideBar={bgSideBar}\n              colorSideBar={colorSideBar}\n              displayLevel={this.state.displayLevel}\n              numLevels={numLevels}\n              goToLevel={goToLevel}\n            />\n          ))\n        }\n        <div className=\"tree\">\n          <ul>\n            {\n              currentRoots.map(root =>\n                <BinaryTreeNode\n                  allUsers={allUsers}\n                  user={root}\n                  deep={1}\n                  maxDeep={maxDeep}\n                  renderDetail={renderDetail}\n                  renderNode={renderNode}\n                  onClick={onClickUser}\n                  colorText={colorText}\n                  imageFake={imageFake}\n                  nameFake={nameFake}\n                  toggleContextMenu={toggleContextMenu}\n                  key={root.id}\n                />\n              )\n            }\n          </ul>\n        </div>\n        <ContextMenu\n          show={this.state.showContextMenu}\n          focusUser={this.state.focusUser}\n          addUser={addUser}\n          toggleDetailsModalOn={toggleDetailsModalOn}\n        />\n        <DistributorDetailsModal\n          show={this.state.showDetailsModal}\n          user={this.state.focusUser}\n          close={toggleDetailsModalOff}\n          edit={this.state.edit}\n          toggleEdit={toggleEdit}\n          applyChange={applyChange}\n          onFileUploadChange={onFileUploadChange}\n\n        />\n        <datalist id=\"usernames\">\n          {\n            allUsers.map(user =>(\n              <option key={user.id} value={user.id}>{user.username}</option>\n            ))\n          }\n        </datalist>\n      </div>\n    );\n  }\n}\n","import BinaryTree from \"./components/BinaryTree\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default BinaryTree;","import React from \"react\";\nimport BinaryTree from \"../lib\";\nimport \"./App.scss\";\n\nconst data = [\n  {\n    id: 1,\n    left_child_id: 2,\n    right_child_id: 3,\n    username: \"User 1\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 2,\n    left_child_id: 4,\n    right_child_id: 5,\n    username: \"User 2\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 3,\n    left_child_id: 6,\n    right_child_id: null,\n    properties:{\n      username: \"User 3\"\n    },\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 4,\n    left_child_id: 7,\n    right_child_id: 8,\n    username: \"User 4\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 5,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 5\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 6,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 6\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\",\n    edit: false\n  },\n  {\n    id: 7,\n    left_child_id: 9,\n    right_child_id: null,\n    username: \"User 7\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 8,\n    left_child_id: null,\n    right_child_id: 10,\n    username: \"User 8\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 9,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 9\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 10,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 10\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n];\n\nwindow.addEventListener('resize', () => {\n  let vw = window.innerWidth * 0.01;\n  document.documentElement.style.setProperty('--vw', `${vw}px`);\n})\n\nexport default class App extends React.Component {\n\n  render() {\n    return (\n      <div className=\"app\">\n        <h1>Demo Tree - By Tùng Vũ</h1>\n        <BinaryTree\n          allUsers={data}\n          rootUser={data[0]}\n          maxDeep={4}\n          level={0}\n          bgSideBar={'#333'}\n          colorText={'#333'}\n          colorSideBar={'#fff'}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./examples/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}
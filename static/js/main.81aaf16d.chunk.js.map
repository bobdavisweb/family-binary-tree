{"version":3,"sources":["lib/components/AddUserButton.js","lib/components/MissingUser.js","lib/components/BinaryTreeNode.js","lib/components/DistributorDetailsModal.js","lib/components/LeftSidebar.js","lib/components/ContextMenu.js","lib/components/NavButtons.js","lib/components/util.js","lib/components/BinaryTree.js","lib/index.js","examples/App.js","index.js"],"names":["AddUserButton","this","props","parent","side","allUsers","className","style","borderRadius","React","Component","BinaryTreeNode","user","deep","maxDeep","renderDetail","renderNode","onClick","colorText","imageFake","nameFake","toggleContextMenu","leftChild","find","item","id","left_child_id","rightChild","right_child_id","liClass","onContextMenu","e","preventDefault","href","src","image","color","username","position","edit","DistributorDetailsModal","show","close","toggleEdit","applyChange","onFileUploadChange","display","type","onChange","console","log","for","defaultValue","onKeyPress","LeftSideBar","bgSideBar","displayLevel","colorSideBar","numLevels","goToLevel","Array","keys","map","level","backgroundColor","height","ContextMenu","focusUser","addUser","toggleDetailsModalOn","disabled","NavButtons","selectedUser","rootUser","selectedUserLevel","bgButton","colorButton","depth","goToTop","upOneLevel","downOneLevel","goToBottomLeft","goToBottomRight","searchUserHandler","goToLevelHandler","marginBottom","name","list","onInput","min","max","inNeighbors","graph","labels","filter","node","some","label","outNeighbors","hasPath","node1","node2","closed","node1_out","includes","concat","getNodeCycles","prefix","flat","getRoots","length","checkTree","checked","push","roots","root","parents","cycles","inCycle","cycle","getCycles","depthUnderNode","tree","current_depth","Math","getNodesAtDepthUnderNodes","d","nodes","BinaryTree","state","showContextMenu","showContextMenuEdit","showDetailsModal","disableNavigation","disableSideBar","currentRoots","root_id","depthUnderUser","setState","currentUser","currentLevel","goToUser","onClickUser","userId","positionMenu","menu","document","querySelector","menuPosition","posx","posy","window","event","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","x","y","getPosition","menuPositionX","menuPositionY","left","top","onclick","toggleMenuOff","onFileReaderLoad","target","result","forceUpdate","input","getAttribute","options","querySelectorAll","value","hiddenInput","getElementById","innerText","parseInt","isNaN","leg","newId","newUser","charCode","file","files","fr","FileReader","onload","readAsDataURL","data","properties","addEventListener","vw","innerWidth","setProperty","App","ReactDOM","render"],"mappings":"+PAEqBA,E,4JACnB,WACE,MAIIC,KAAKC,MAJT,EACEC,OADF,EAEEC,KAFF,EAGEC,SAMF,OACE,6BACE,qBAAKC,UAAU,eAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKA,UAAU,SAASC,MAAO,CAACC,aAAc,e,GAffC,IAAMC,WCQ5BC,E,4JACnB,WACE,OACE,oBAAIL,UAAU,UAAd,SACE,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKA,UAAU,qB,GANiBG,IAAMC,WCJ7BC,E,4JACnB,WACE,MAYIV,KAAKC,MAXPU,EADF,EACEA,KACAP,EAFF,EAEEA,SACAQ,EAHF,EAGEA,KAHF,IAIEC,eAJF,MAIY,EAJZ,EAKEC,EALF,EAKEA,aACAC,EANF,EAMEA,WACAC,EAPF,EAOEA,QAPF,IAQEC,iBARF,MAQc,OARd,MASEC,iBATF,MASc,kCATd,MAUEC,gBAVF,MAUa,OAVb,EAWEC,EAXF,EAWEA,kBASEC,EAAYV,EAAQP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOb,EAAKc,iBAAkB,KAC7EC,EAAaf,EAAQP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOb,EAAKgB,kBAAmB,KAMnF,IAAIC,EAAUjB,EAAO,OAAS,UAE9B,OACE,oBAAIN,UAAWuB,EAAf,SACE,gCACCX,GAAaN,GACZ,oBACEK,QAAS,WACPA,GAAWA,EAAQL,EAAKa,KAE1BK,cAdR,SAA6BC,GAC3BA,EAAEC,iBACFX,EAAkBT,EAAKmB,IAajBE,KAAK,qBALP,UAOGjB,EACCA,EAAWJ,GAEX,sBAAKN,UAAU,mBAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAK4B,IAAKtB,EAAKuB,UAEjB,sBAAM7B,UAAU,OAAOC,MAAO,CAAE6B,MAAOlB,GAAvC,SACGN,EAAKyB,cAIZ,sBAAK/B,UAAU,sBAAf,UACGS,EACCA,EAAaH,GAEb,sBAAKN,UAAU,eAAf,UACE,qBAAKA,UAAU,gBAAf,qCACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,QAAf,kBACA,qBAAKA,UAAU,QAAf,SAAwBM,EAAKyB,iBAInC,qBAAK/B,UAAU,oBAAqB,IACpC,qBAAKA,UAAU,uBAKpBO,EAAOC,IAAYQ,GAAaK,IAC7B,qBAAIpB,MAAO,CAAC+B,SAAU,YAAtB,UACGhB,EACD,cAACX,EAAD,CACEE,KAAMA,EAAO,EACbC,QAASA,EACTT,SAAUA,EACVO,KAAMU,EACNP,aAAcA,EACdC,WAAYA,EACZC,QAASA,EACTC,UAAWA,EACXC,UAAWA,EACXC,SAAUA,EACVC,kBAAmBA,IAElBT,EAAK2B,KACR,cAAC,EAAD,CACEpC,OAAQS,EACRR,MAAM,EACNC,SAAUA,IAGZ,cAAC,EAAD,IAEDsB,EACC,cAAChB,EAAD,CACEE,KAAMA,EAAO,EACbC,QAASA,EACTT,SAAUA,EACVU,aAAcA,EACdC,WAAYA,EACZJ,KAAMe,EACNV,QAASA,EACTC,UAAWA,EACXC,UAAWA,EACXC,SAAUA,EACVC,kBAAmBA,IAElBT,EAAK2B,KACR,cAAC,EAAD,CACEpC,OAAQS,EACRR,MAAM,EACNC,SAAUA,IAGZ,cAAC,EAAD,IAEF,qBAAKC,UAAU,yB,GAxHiBG,IAAMC,W,eCH7B8B,E,4JACnB,WACE,MAQIvC,KAAKC,MAPPuC,EADF,EACEA,KACA7B,EAFF,EAEEA,KACA8B,EAHF,EAGEA,MACAH,EAJF,EAIEA,KACAI,EALF,EAKEA,WACAC,EANF,EAMEA,YACAC,EAPF,EAOEA,mBAGF,OACI,sBAAKvC,UAAU,4BAA4BC,MAAO,CAACuC,QAASL,EAAO,QAAU,QAA7E,UACE,sBAAKnC,UAAU,oCAAf,UACE,uBAAOmB,GAAG,cAAcsB,KAAK,OAAOC,SAAU,SAACjB,GAAOkB,QAAQC,IAAI,YAAaL,EAAmBd,MAClG,uBAAOoB,IAAI,cAAX,SACE,qBAAKjB,IAAKtB,EAAOA,EAAKuB,MAAQ,UAGlC,sBAAK7B,UAAU,kCAAf,UACE,gCACE,uCAEDiC,EACC,uBAAOd,GAAG,iBAAiBsB,KAAK,OAAOzC,UAAU,QAAQ8C,aAAcxC,EAAOA,EAAKyB,SAAW,GAAIgB,WAAY,SAACtB,GAAD,OAAOa,EAAYb,MAEjI,qBAAKzB,UAAU,QAAf,SAAwBM,EAAOA,EAAKyB,SAAW,MAE/CE,GACA,wBAAQjC,UAAU,cAAcW,QAAS0B,EAAzC,SAAqD,cAAC,IAAD,SAGzD,qBAAKrC,UAAU,cAAf,SACE,wBAAQW,QAASyB,EAAjB,4B,GAlCyCjC,IAAMC,WCDtC4C,E,4JACnB,WACE,MAMIrD,KAAKC,MALPqD,EADF,EACEA,UAEAC,GAHF,EAEEC,aAFF,EAGED,cACAE,EAJF,EAIEA,UACAC,EALF,EAKEA,UAGF,OAEE,qBAAKrD,UAAU,cAAf,SACE,qBAAKA,UAAU,cAAf,SAEI,YAAIsD,MAAMF,GAAWG,QAAQC,KAAI,SAAAC,GAAK,OACpC,qBAAKzD,UAAU,QAAoBC,MAAO,CAACyD,gBAAiBT,EAAYU,OAAS,IAAIP,EAAa,KAAMzC,QAAS,WAAO0C,EAAUH,EAAeO,IAAjJ,SACE,uBAAMzD,UAAU,cAAhB,mBACWkD,EAAeO,MAFAA,c,GAhBDtD,IAAMC,WCE1BwD,E,4JACnB,WACE,MAKIjE,KAAKC,MAJPuC,EADF,EACEA,KACA0B,EAFF,EAEEA,UACAC,EAHF,EAGEA,QACAC,EAJF,EAIEA,qBAGF,OACE,qBAAK5C,GAAG,eAAenB,UAAU,eAAeC,MAAO,CAACuC,QAASL,EAAO,QAAU,QAAlF,SACG0B,GACC,gCACE,qBAAK1C,GAAG,qBAAR,SACG0C,EAAU9B,WAEb,qBAAKZ,GAAG,wBAAR,SACE,qBAAInB,UAAU,sBAAd,UACE,oBAAIA,UAAU,qBAAd,SACE,wBACEA,UAAU,qBACVW,QAAS,WACPoD,EAAqBF,IAHzB,yBAQF,oBAAI7D,UAAU,qBAAd,SACE,wBACEA,UAAU,qBACVgE,SAAsC,OAA5BH,EAAUzC,cACpBT,QAAS,WACPmD,EAAQD,EAAW,kBAJvB,4BAUF,oBAAI7D,UAAU,qBAAd,SACE,wBACEA,UAAU,qBACVgE,SAAuC,OAA7BH,EAAUvC,eACpBX,QAAS,WACPmD,EAAQD,EAAW,mBAJvB,2C,GAvCuB1D,IAAMC,WCA1B6D,E,4JACnB,WACE,MAeItE,KAAKC,MAbPsE,GAFF,EACEC,SADF,EAEED,cACAE,EAHF,EAGEA,kBACAlB,EAJF,EAIEA,aACAmB,EALF,EAKEA,SACAC,EANF,EAMEA,YACAC,EAPF,EAOEA,MACAC,EARF,EAQEA,QACAC,EATF,EASEA,WACAC,EAVF,EAUEA,aACAC,EAXF,EAWEA,eACAC,EAZF,EAYEA,gBACAC,EAbF,EAaEA,kBACAC,EAdF,EAcEA,iBAGF,OACE,sBAAK9E,UAAU,aAAf,UACE,sBAAKC,MAAO,CAAC8E,aAAc,OAA3B,UACE,+CACA,uBAAO5D,GAAG,aAAa6D,KAAK,aAAaC,KAAK,YAAYC,QAASL,IACnE,uBAAOpC,KAAK,SAASuC,KAAK,aAAa7D,GAAG,yBAE5C,sBAAKlB,MAAO,CAAC8E,aAAc,OAA3B,UACE,gDACA,uBAAO5D,GAAG,YAAYsB,KAAK,SAAS0C,IAAI,IAAIC,IAAKb,EAAM,EAAG7B,SAAUoC,OAEtE,qBAAK9E,UAAU,UAAf,SACE,yBACEyC,KAAK,SACLzC,UAAU,cACVW,QAAS6D,EACTR,SAAUI,EAAoBlB,IAAiB,EAC/CjD,MAAO,CAACyD,gBAAiBW,EAAUvC,MAAOwC,GAL5C,UAOE,4BACE,cAAC,IAAD,MAEF,sBAAMtE,UAAU,cAAhB,4BAGJ,qBAAKA,UAAU,UAAf,SACE,yBACEyC,KAAK,SACLzC,UAAU,cACVW,QAAS8D,EACTT,SAAUI,EAAoBlB,IAAiB,EAC/CjD,MAAO,CAACyD,gBAAiBW,EAAUvC,MAAOwC,GAL5C,UAOE,4BACE,cAAC,IAAD,MAEF,sBAAMtE,UAAU,cAAhB,+BAGJ,qBAAKA,UAAU,UAAf,SACE,yBACEyC,KAAK,SACLzC,UAAU,cACVW,QAAS+D,EACTV,SAAUI,GAAqBG,EAAQ,EACvCtE,MAAO,CAACyD,gBAAiBW,EAAUvC,MAAOwC,GAL5C,UAOE,4BACE,cAAC,IAAD,MAEF,sBAAMtE,UAAU,cAAhB,uBAGJ,sBAAKA,UAAU,yBAAf,UACE,yBACEA,UAAU,0BACVyC,KAAK,SACL9B,QAASgE,EACTX,UAAWE,EAAa9C,cACxBnB,MAAO,CAACyD,gBAAiBW,EAAUvC,MAAOwC,GAL5C,UAOE,4BACE,cAAC,IAAD,MAEF,sBAAMtE,UAAU,cAAhB,4BAEF,yBACEA,UAAU,2BACVyC,KAAK,UACL9B,QAASiE,EACTZ,UAAWE,EAAa5C,eACxBrB,MAAO,CAACyD,gBAAiBW,EAAUvC,MAAOwC,GAL5C,UAOE,4BACE,cAAC,IAAD,MAEF,sBAAMtE,UAAU,cAAhB,uC,GA/F4BG,IAAMC,W,OCJ9C,SAASiF,EAAYlE,EAAGmE,EAAMC,GAC5B,OAAOD,EAAME,QAAO,SAAAC,GAAI,OAAIF,EAAOG,MAAK,SAAAC,GAAK,OAAIA,KAASF,GAAQA,EAAKE,KAAWxE,QAAKqC,KAAI,SAAAiC,GAAI,OAAIA,EAAKtE,MAG1G,SAASyE,EAAazE,EAAGmE,EAAMC,GAAQ,IAAD,gBAClBD,GADkB,yBAC1BG,EAD0B,QAElC,GAAGA,EAAKtE,KAAOA,EACb,MAAM,CAAN,EAAOoE,EAAOC,QAAO,SAAAG,GAAK,OAAIA,KAASF,GAAwB,OAAhBA,EAAKE,MAAiBnC,KAAI,SAAAmC,GAAK,OAAIF,EAAKE,QAF3F,IAAI,EAAJ,qBAAwB,CAAC,IAAD,yCADY,+BAQtC,SAASE,EAAQP,EAAMC,EAAOO,EAAOC,EAAOC,GAC1C,IAAMC,EAAYL,EAAaE,EAAMR,EAAMC,GAC3C,OAAOU,EAAUC,SAASH,IAAUE,EAAUP,MAAK,SAAAvE,GAAE,OAAM6E,EAAOE,SAAS/E,IAAQ0E,EAAQP,EAAMC,EAAOpE,EAAG4E,EAAOC,EAAOG,OAAO,CAACL,QAGnI,SAASM,EAAcjF,EAAImE,EAAOC,EAAQc,GAAQ,IAAD,gBAC7Bf,GAD6B,yBACrCG,EADqC,QAE7C,GAAGA,EAAKtE,KAAOA,EAMb,MAAM,CAAN,EALmBoE,EAAOC,QACpB,SAAAG,GAAK,OAAIA,KAASF,GAAwB,OAAhBA,EAAKE,MACjCnC,KACE,SAAAmC,GAAK,OAAMU,EAAOH,SAAST,EAAKE,IAAqF,CAACU,EAAOF,OAAO,CAACV,EAAKE,MAA/FS,EAAcX,EAAKE,GAAQL,EAAOC,EAAQc,EAAOF,OAAO,CAACV,EAAKE,SAC3GW,SANR,IAAI,EAAJ,qBAAwB,CAAC,IAAD,yCADuB,+BAoCjD,SAASC,EAASjB,EAAMC,GACtB,OAAOD,EAAME,QAAO,SAAAC,GAAI,OAAiD,IAA7CJ,EAAYI,EAAKtE,GAAGmE,EAAMC,GAAQiB,UAchE,SAASC,EAAUnB,EAAMC,GAEvB,IAF8B,EAE1BmB,EAAU,GAFgB,cAGZpB,GAHY,IAG9B,IAAI,EAAJ,qBAAwB,CAAC,IAAfG,EAAc,QACtB,GAAGiB,EAAQR,SAAST,EAAKtE,IACvB,KAAK,uBAAL,OAA6BsE,EAAKtE,GAAlC,2BAEFuF,EAAQC,KAAKlB,EAAKtE,KAPU,8BAW9B,IAAMyF,EAAQL,EAASjB,EAAMC,GAC7B,GAAoB,IAAjBqB,EAAMJ,OACP,KAAK,+BAEP,GAAGI,EAAMJ,OAAS,EAChB,KAAK,wCAAL,OAA8CI,EAAMpD,KAAI,SAAAqD,GAAI,OAAIA,EAAK1F,OAEvE,IAlB8B,EAkBxB0F,EAAOD,EAAM,GAlBW,cAqBZtB,GArBY,IAqB9B,IAAI,EAAJ,qBAAwB,CAAC,IAAfG,EAAc,QAChBqB,EAAUzB,EAAYI,EAAKtE,GAAGmE,EAAMC,GAC1C,GAAGuB,EAAQN,OAAS,EAClB,KAAK,mBAAL,OAAyBf,EAAKtE,GAA9B,kCAA0D2F,IAxBhC,8BA6B9B,IAAMC,EAnER,SAAmBzB,EAAMC,GACvB,IAD8B,EAC1BwB,EAAS,GADiB,cAEZzB,GAFY,IAE9B,IAAI,EAAJ,qBAAwB,CAAC,IAAD,EAAdG,EAAc,QAClBuB,GAAU,EADQ,cAEHD,GAFG,IAEtB,IAAI,EAAJ,qBAA0B,CAAC,IAAD,EAAhBE,EAAgB,sBACRA,GADQ,IACxB,IAAI,EAAJ,qBAAsB,CAAC,IAAb9F,EAAY,QACpB,GAAGsE,EAAKtE,KAAOA,EAAG,CAChB6F,GAAU,EACV,QAJoB,8BAOxB,GAAGA,EACD,OAVkB,8BAanBA,IAGHD,EAASA,EAAOZ,OAAOC,EAAcX,EAAKtE,GAAGmE,EAAMC,EAAO,CAACE,EAAKtE,QAlBpC,8BAoB9B,OAAO4F,EA+CQG,CAAU5B,EAAMC,GAC/B,GAAGwB,EAAOP,OAAS,EACjB,KAAK,qCAAL,OAA2CO,GA/Bf,oBAoCZzB,GApCY,IAoC9B,IAAI,EAAJ,qBAAwB,CAAC,IAAfG,EAAc,QACtB,GAAGA,EAAKtE,KAAO0F,EAAK1F,KAAO0E,EAAQP,EAAMC,EAAOsB,EAAK1F,GAAGsE,EAAKtE,GAAG,IAC9D,KAAK,mBAAL,OAAyBsE,EAAKtE,GAA9B,+BAtC0B,8BA0C9B,OAAO,EAGT,SAASgG,EAAehG,EAAIiG,EAAM7B,EAAQ8B,GAExC,GAAGA,EAAgBD,EAAKZ,OACtB,KAAK,2CAAL,OAAiDa,EAAjD,wCAA8FD,EAAKZ,QAH/C,oBAKpCY,GALoC,yBAK5C3B,EAL4C,QAMpD,GAAGA,EAAKtE,KAAOA,EACb,MAAM,CAAN,EAAO,EAAImG,KAAKlC,IAAL,MAAAkC,KAAI,YAAS/B,EAAO/B,KAAI,SAAAmC,GAAK,OAAKA,KAASF,GAAwB,OAAhBA,EAAKE,GAAmBwB,EAAe1B,EAAKE,GAAOyB,EAAK7B,EAAQ8B,EAAc,GAAK,SAFrJ,IAAI,EAAJ,qBAAuB,CAAC,IAAD,yCAL+B,8BAUtD,KAAK,kBAAL,OAAwBlG,EAAxB,uBAGF,SAASoD,EAAM6C,EAAK7B,GAClB,GAAmB,IAAhB6B,EAAKZ,OACN,OAAO,EAET,IAAMI,EAAQL,EAASa,EAAK7B,GAE5B,GAAoB,IAAjBqB,EAAMJ,OACP,KAAK,uBAGP,OAAOc,KAAKlC,IAAL,MAAAkC,KAAI,YAASV,EAAMpD,KAAI,SAAAqD,GAAI,OAAIM,EAAeN,EAAK1F,GAAGiG,EAAK7B,EAAO,QAG3E,SAASgC,EAA0BH,EAAK7B,EAAOiC,EAAEC,GAC/C,OAAS,IAAND,EACMC,EAEFF,EAA0BH,EAAM7B,EAAQiC,EAAE,EAAGC,EAAMjE,KAAI,SAAAiC,GAAI,OAAIG,EAAaH,EAAK2B,EAAK7B,MAASe,Q,ICtInFoB,E,kDACnB,WAAY9H,GAAQ,IAAD,6BACjB,cAAMA,GACN6G,EAAU7G,EAAMG,SAAS,CAAC,gBAAgB,mBAC1C,EAAK4H,MAAQ,CACXzD,aAActE,EAAMuE,SACpBC,kBAAmBxE,EAAM6D,MACzBP,aAActD,EAAM6D,MACpBc,MAAOA,EAAM3E,EAAMG,SAAS,CAAC,gBAAgB,mBAC7C6H,iBAAiB,EACjBC,qBAAqB,EACrBhE,UAAW,KACXiE,kBAAkB,EAClB7F,MAAM,GAZS,E,0CAenB,WAAU,IDyHsBmF,EAAK7B,EAAOiC,EAAE/B,ECzHrC,OACP,EAeI9F,KAAKC,MAfT,IACEG,gBADF,MACa,GADb,EAEEc,EAFF,EAEEA,UACAC,EAHF,EAGEA,SACAN,EAJF,EAIEA,QACAC,EALF,EAKEA,aACAC,EANF,EAMEA,WANF,KAOEqH,kBAPF,EAQEC,eARF,EASE/E,kBATF,MASc,UATd,MAUEE,oBAVF,MAUiB,UAVjB,EAWEvC,EAXF,EAWEA,UAXF,IAYEyD,gBAZF,MAYa,UAZb,MAaEC,mBAbF,MAagB,UAbhB,EAiBIH,GAjBJ,EAcEyD,gBAGajI,KAAKC,MAAMuE,UACtBC,EAAoBzE,KAAKgI,MAAMvD,kBAC/B6D,GDqG0Bb,ECrGcrH,EDqGTwF,ECrGkB,CAAC,gBAAgB,kBDqG5BiC,ECrG8C7H,KAAKgI,MAAMzE,aAAevD,KAAKgI,MAAMvD,kBDqGjFqB,ECrGmG9F,KAAKgI,MAAMzD,aAAa/C,GDsGlKoG,EAA0BH,EAAK7B,EAAOiC,EAAE,CAAC/B,KCtG6HjC,KAAI,SAAA0E,GAAO,OAAInI,EAASkB,MAAK,SAAAX,GAAI,OAAIA,EAAKa,KAAO+G,QACxNC,EAAiBhB,EAAexH,KAAKgI,MAAMzD,aAAa/C,GAAGpB,EAAS,CAAC,gBAAgB,kBAAkB,GACvGqD,EAAYkE,KAAKnC,IAAI3E,EAAS2H,GAAkBxI,KAAKgI,MAAMzE,aAAevD,KAAKgI,MAAMvD,oBA4DnFf,EAAY,SAACI,GACdA,EAAQ,IAGRA,GAAS,EAAKkE,MAAMvD,kBACrB,EAAKgE,SAAS,CACZlF,aAAcO,IAEZ,WAGJ,IAFA,IAAI4E,EAAc,EAAKV,MAAMzD,aACzBoE,EAAe,EAAKX,MAAMvD,kBAAoBX,EAC5C6E,EAAe,GACnBD,EAAY,EAAKzI,MAAMG,SAASkB,MAC9B,SAACX,GAAD,OACEA,EAAKc,gBAAkBiH,EAAYlH,IACnCb,EAAKgB,iBAAmB+G,EAAYlH,MAExCmH,IAEF,EAAKF,SAAS,CACZlE,aAAcmE,EACdjE,kBAAmBX,EACnBP,aAAcO,IAdZ,KA0BF8E,EAAW,SAACjI,GACbA,GAAM,WAGP,IAFA,IAAImD,GAAS,EACT4E,EAAc/H,EACZ+H,GACJA,EAAY,EAAKzI,MAAMG,SAASkB,MAC9B,SAACX,GAAD,OACEA,EAAKc,gBAAkBiH,EAAYlH,IACnCb,EAAKgB,iBAAmB+G,EAAYlH,MAExCsC,IAEF,EAAK2E,SAAS,CACZlE,aAAc5D,EACd8D,kBAAmBX,EACnBP,aAAcO,IAdT,IAiCL+E,EAAc,SAACC,GACnB,IAAMnI,EAAOP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOsH,KAC/CF,EAASjI,IAyBLoI,EAAe,SAACjH,GACpB,IAAIkH,EAAOC,SAASC,cAAc,iBAC9BC,EAxBc,SAACrH,GACnB,IAAIsH,EAAO,EACPC,EAAO,EAENvH,IAAOA,EAAIwH,OAAOC,OAYvB,OAVIzH,EAAE0H,OAAS1H,EAAE2H,OACfL,EAAOtH,EAAE0H,MACTH,EAAOvH,EAAE2H,QACA3H,EAAE4H,SAAW5H,EAAE6H,WACxBP,EAAOtH,EAAE4H,QAAUT,SAASW,KAAKC,WACdZ,SAASa,gBAAgBD,WAC5CR,EAAOvH,EAAE6H,QAAUV,SAASW,KAAKG,UACdd,SAASa,gBAAgBC,WAGvC,CACLC,EAAGZ,EACHa,EAAGZ,GAMca,CAAYpI,GAC3BqI,EAAgBhB,EAAaa,EAAI,KACjCI,EAAgBjB,EAAac,EAAI,KAErCjB,EAAK1I,MAAM+J,KAAOF,EAClBnB,EAAK1I,MAAMgK,IAAMF,GAGbhJ,EAAoB,SAACT,EAAOmB,GAChCiH,EAAajH,GACb,EAAK2G,SAAS,CACZR,iBAAiB,EACjBC,oBAAqBvH,EAAK2B,KAC1B4B,UAAWvD,IAEbsI,SAASsB,QAAUC,GAGfA,EAAgB,WACpB,EAAK/B,SAAS,CACZR,iBAAiB,EACjBC,qBAAqB,IAEvBe,SAASsB,QAAU,MAEfnG,EAAuB,SAACzD,GAC5B,EAAK8H,SAAS,CACZN,kBAAkB,EAClBjE,UAAWvD,EACX2B,MAAM,KAWJI,EAAa,WACjB,EAAK+F,SAAS,CACZnG,MAAM,KAsCJmI,EAAmB,SAAC3I,GACxB,EAAKkG,MAAM9D,UAAUhC,MAAQJ,EAAE4I,OAAOC,OACtC,EAAKC,eAGP,OACE,sBAAKpJ,GAAG,cAAcnB,UAAU,SAAhC,UACgCsE,GAC5B,cAAC,EAAD,CACEH,SAAUA,EACVD,aAAcvE,KAAKgI,MAAMzD,aACzBE,kBAAmBzE,KAAKgI,MAAMvD,kBAC9BlB,aAAcvD,KAAKgI,MAAMzE,aACzBmB,SAAUA,EACVC,YAAaA,EACbC,MAAO5E,KAAKgI,MAAMpD,MAClBC,QAvPQ,WACd,EAAK4D,SAAS,CACZlE,aAAc,EAAKtE,MAAMuE,SACzBC,kBAAmB,EACnBlB,aAAc,KAoPVuB,WAlNW,WACd,EAAKkD,MAAMzE,aAAe,GAC3B,EAAKkF,SAAS,CACZlF,aAAc,EAAKyE,MAAMzE,aAAe,KAgNtCwB,aA3Ma,WAChB,EAAKiD,MAAMzE,aAAeiF,EAAiB,GAC5C,EAAKC,SAAS,CACZlF,aAAc,EAAKyE,MAAMzE,aAAe,KAyMtCyB,eAnPe,WAGrB,IAFA,IAAIrE,EAAO6D,EACPV,EAAQW,EACL9D,GAAQA,EAAKc,eAClBd,EAAOP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOb,EAAKc,iBAC9CqC,IAEEnD,GACF,EAAK8H,SAAS,CACZlE,aAAc5D,EACd8D,kBAAmBX,EACnBP,aAAcO,KAyOZmB,gBArOgB,WAGtB,IAFA,IAAItE,EAAO6D,EACPV,EAAQW,EACL9D,GAAQA,EAAKgB,gBAClBhB,EAAOP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOb,EAAKgB,kBAC9CmC,IAEEnD,GACF,EAAK8H,SAAS,CACZlE,aAAc5D,EACd8D,kBAAmBX,EACnBP,aAAcO,KA2NZoB,kBAhJkB,SAACpD,GACzB,IAAI+I,EAAQ/I,EAAE4I,OACVpF,EAAOuF,EAAMC,aAAa,QAC1BC,EAAU9B,SAAS+B,iBAAiB,IAAM1F,EAAO,kBAAkBuF,EAAMI,MAAM,MAC/EC,EAAcjC,SAASkC,eAAeN,EAAMC,aAAa,MAAQ,WAErE,GAAIC,EAAQlE,OAAS,EAAG,CACtBqE,EAAYD,MAAQJ,EAAMI,MAC1BJ,EAAMI,MAAQF,EAAQ,GAAGK,UACzB,IAAMzK,EAAOP,EAASkB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAO6J,SAASH,EAAYD,UACpErC,EAASjI,KAuILwE,iBA5KiB,WACvB,IAAMrB,EAAQuH,SAASpC,SAASkC,eAAe,aAAaF,QACvDK,MAAMxH,IAAWA,EAAQ,EAAKkE,MAAMpD,OACvClB,EAAUI,MA8KmBN,GACzB,cAAC,EAAD,CACEF,UAAWA,EACXE,aAAcA,EACdD,aAAcvD,KAAKgI,MAAMzE,aACzBE,UAAWA,EACXC,UAAWA,IAIjB,qBAAKrD,UAAU,OAAf,SACE,6BAEIiI,EAAazE,KAAI,SAAAqD,GAAI,OACnB,cAAC,EAAD,CACE9G,SAAUA,EACVO,KAAMuG,EACNtG,KAAM,EACNC,QAASA,EACTC,aAAcA,EACdC,WAAYA,EACZC,QAAS6H,EACT5H,UAAWA,EACXC,UAAWA,EACXC,SAAUA,EACVC,kBAAmBA,GACd8F,EAAK1F,WAMpB,cAAC,EAAD,CACEgB,KAAMxC,KAAKgI,MAAMC,gBACjB/D,UAAWlE,KAAKgI,MAAM9D,UACtBC,QAtFU,SAACxD,EAAK4K,GACpB,IAAMC,EAnNC7D,KAAKlC,IAAL,MAAAkC,KAAI,YAAQvH,EAASyD,KAAI,SAAAlD,GAAI,OAAIA,EAAKa,QAAO,EAoN9CiK,EAAU,CACdjK,GAAIgK,EACJ/J,cAAe,KACfE,eAAgB,KAChBS,SAAU,GACVF,MAAO,mCAET9B,EAAS4G,KAAKyE,GACd9K,EAAK4K,GAAOC,EACZpH,EAAqBqH,GACrB/I,KA2EI0B,qBAAsBA,IAExB,cAAC,EAAD,CACE5B,KAAMxC,KAAKgI,MAAMG,iBACjBxH,KAAMX,KAAKgI,MAAM9D,UACjBzB,MApHwB,WAC5B,EAAKgG,SAAS,CACZN,kBAAkB,EAClBjE,UAAW,KACX5B,MAAM,KAiHJA,KAAMtC,KAAKgI,MAAM1F,KACjBI,WAAYA,EACZC,YAzGc,SAACb,GACnB,GAAkB,KAAfA,EAAE4J,SAAgB,CACnB,IAAMT,EAAQhC,SAASkC,eAAe,kBAAkBF,MACxD,EAAKxC,SAAS,CACZnG,MAAM,IAER,EAAK0F,MAAM9D,UAAU9B,SAAW6I,IAoG9BrI,mBA/EqB,SAACd,GAC3B,IAAI6J,EAAO7J,EAAE4I,OAAOkB,MAAM,GACtBC,EAAK,IAAIC,WACbD,EAAGE,OAAStB,EACZoB,EAAGG,cAAcL,MA8Ed,0BAAUnK,GAAG,YAAb,SAEIpB,EAASyD,KAAI,SAAAlD,GAAI,OACf,wBAAsBsK,MAAOtK,EAAKa,GAAlC,SAAuCb,EAAKyB,UAA/BzB,EAAKa,gB,GAjWQhB,IAAMC,WCN/BsH,G,MAAAA,GCCTkE,G,MAAO,CACX,CACEzK,GAAI,EACJC,cAAe,EACfE,eAAgB,EAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,EACfE,eAAgB,EAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,EACfE,eAAgB,KAChBuK,WAAW,CACT9J,SAAU,UAEZF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,EACfE,eAAgB,EAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,KACfE,eAAgB,KAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,KACfE,eAAgB,KAChBS,SAAU,SACVF,MAAO,kCACPI,MAAM,GAER,CACEd,GAAI,EACJC,cAAe,EACfE,eAAgB,KAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,KACfE,eAAgB,GAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,EACJC,cAAe,KACfE,eAAgB,KAChBS,SAAU,SACVF,MAAO,mCAET,CACEV,GAAI,GACJC,cAAe,KACfE,eAAgB,KAChBS,SAAU,UACVF,MAAO,qCAIXoH,OAAO6C,iBAAiB,UAAU,WAChC,IAAIC,EAAyB,IAApB9C,OAAO+C,WAChBpD,SAASa,gBAAgBxJ,MAAMgM,YAAY,OAA3C,UAAsDF,EAAtD,U,IAGmBG,E,4JAEnB,WACE,OACE,sBAAKlM,UAAU,MAAf,UACE,gEACA,cAAC,EAAD,CACED,SAAU6L,EACVzH,SAAUyH,EAAK,GACfpL,QAAS,EACTiD,MAAO,EACPR,UAAW,OACXrC,UAAW,OACXuC,aAAc,gB,GAbShD,IAAMC,WCjFvC+L,IAASC,OAAO,cAAC,EAAD,IAASxD,SAASkC,eAAe,W","file":"static/js/main.81aaf16d.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class AddUserButton extends React.Component {\n  render() {\n    const {\n      parent,\n      side,\n      allUsers\n    } = this.props;\n\n    function addUser(){\n      console.log(\"addUser:\", parent, side)\n    }\n    return (\n      <li>\n        <div className=\"a-substitute\">\n          <div className=\"distributor-wrap\">\n            <div className=\"avatar\" style={{borderRadius: 0}}>\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\";\nimport AddUserButton from \"./AddUserButton\";\n\n// const fakeUser = {\n//   id: \"null\",\n//   username: \"Null\",\n//   left_child_id: null,\n//   right_child_id: null,\n//   image: \"https://i.imgur.com/AFj9jns.png\"\n// };\nexport default class BinaryTreeNode extends React.Component {\n  render() {\n    return (\n      <li className=\"missing\">\n        <div className=\"a-substitute\">\n          <div className=\"distributor-wrap\">\n            <div className=\"avatar\">\n            </div>\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n","import React, {useState} from \"react\";\nimport AddUserButton from \"./AddUserButton\";\nimport MissingUser from \"./MissingUser\";\nimport Modal from 'react-bootstrap/Modal'\n\n\nexport default class BinaryTreeNode extends React.Component {\n  render() {\n    const {\n      user,\n      allUsers,\n      deep,\n      maxDeep = 4,\n      renderDetail,\n      renderNode,\n      onClick,\n      colorText = \"#333\",\n      imageFake = \"https://i.imgur.com/AFj9jns.png\",\n      nameFake = \"Null\",\n      toggleContextMenu\n    } = this.props;\n    const fakeUser = {\n      id: \"null\",\n      username: nameFake,\n      left_child_id: null,\n      right_child_id: null,\n      image: imageFake\n    };\n    let leftChild = user ? (allUsers.find(item => item.id === user.left_child_id)) : null;\n    let rightChild = user ? (allUsers.find(item => item.id === user.right_child_id)) : null;\n\n    function contextMenuListener(e){\n      e.preventDefault();\n      toggleContextMenu(user,e);\n    }\n    let liClass = user ? \"user\" : \"missing\";\n\n    return (\n      <li className={liClass}>\n        <div>\n        {colorText && user && (\n          <a\n            onClick={() => {\n              onClick && onClick(user.id);\n            }}\n            onContextMenu={contextMenuListener}\n            href=\"javascript:void(0)\"\n          >\n            {renderNode ? (\n              renderNode(user)\n            ) : (\n              <div className=\"distributor-wrap\">\n                <div className=\"avatar\">\n                  <img src={user.image} />\n                </div>\n                <span className=\"name\" style={{ color: colorText }}>\n                  {user.username}\n                </span>\n              </div>\n            )}\n            <div className=\"distributor-details\">\n              {renderDetail ? (\n                renderDetail(user)\n              ) : (\n                <div className=\"details-wrap\">\n                  <div className=\"details-title\">Details In RenderDetail</div>\n                  <div className=\"details-row\">\n                    <div className=\"label\">NAME</div>\n                    <div className=\"value\">{user.username}</div>\n                  </div>\n                </div>\n              )}\n              <div className=\"horizontal-line\" />{\" \"}\n              <div className=\"sloping-line\" />\n            </div>\n          </a>\n        )}\n\n        {deep < maxDeep && (leftChild || rightChild) && (\n            <ul style={{position: 'relative'}}>\n              {leftChild ? (\n              <BinaryTreeNode\n                deep={deep + 1}\n                maxDeep={maxDeep}\n                allUsers={allUsers}\n                user={leftChild}\n                renderDetail={renderDetail}\n                renderNode={renderNode}\n                onClick={onClick}\n                colorText={colorText}\n                imageFake={imageFake}\n                nameFake={nameFake}\n                toggleContextMenu={toggleContextMenu}\n              />\n            ) : (user.edit ? (\n              <AddUserButton\n                parent={user}\n                side={false}\n                allUsers={allUsers}\n              />\n            ) : (\n              <MissingUser/>\n            ))}\n            {rightChild ? (\n              <BinaryTreeNode\n                deep={deep + 1}\n                maxDeep={maxDeep}\n                allUsers={allUsers}\n                renderDetail={renderDetail}\n                renderNode={renderNode}\n                user={rightChild}\n                onClick={onClick}\n                colorText={colorText}\n                imageFake={imageFake}\n                nameFake={nameFake}\n                toggleContextMenu={toggleContextMenu}\n              />\n            ) : (user.edit ? (\n              <AddUserButton\n                parent={user}\n                side={true}\n                allUsers={allUsers}\n              />\n            ) : (\n              <MissingUser/>\n            ))}\n            <div className=\"arrow-up\"></div>\n          </ul>\n        )}\n        </div>\n      </li>\n    );\n  }\n}\n","import React from \"react\";\nimport { FaPen } from \"react-icons/fa\";\n\nexport default class DistributorDetailsModal extends React.Component {\n  render() {\n    const {\n      show,\n      user,\n      close,\n      edit,\n      toggleEdit,\n      applyChange,\n      onFileUploadChange\n    } = this.props;\n\n    return (\n        <div className=\"distributor-details-modal\" style={{display: show ? 'block' : 'none'}}>\n          <div className=\"distributor-details-modal-img-div\">\n            <input id=\"input-image\" type=\"file\" onChange={(e) => {console.log(\"onChange\"); onFileUploadChange(e)}}/>\n            <label for=\"input-image\">\n              <img src={user ? user.image : ''}/>\n            </label>\n          </div>\n          <div className=\"distributor-details-modal-field\">\n            <label>\n              <b>Name</b>\n            </label>\n            {edit ? (\n              <input id=\"input-username\" type=\"text\" className=\"input\" defaultValue={user ? user.username : ''} onKeyPress={(e) => applyChange(e)}/>\n            ) : (\n              <div className=\"value\">{user ? user.username : ''}</div>\n            )}\n            {!edit && (\n              <button className=\"edit-button\" onClick={toggleEdit}><FaPen/></button>\n            )}\n          </div>\n          <div className=\"close-modal\">\n            <button onClick={close}>Close</button>\n          </div>\n        </div>\n    )\n  }\n}\n","import React from \"react\";\n\nexport default class LeftSideBar extends React.Component {\n  render() {\n    const {\n      bgSideBar,\n      colorSideBar,\n      displayLevel,\n      numLevels,\n      goToLevel\n    } = this.props;\n\n    return(\n\n      <div className=\"leftSidebar\">\n        <div className=\"levels-wrap\">\n          {\n            [...Array(numLevels).keys()].map(level =>\n              <div className=\"level\" key={level} style={{backgroundColor: bgSideBar,  height: (100/numLevels) + '%'}} onClick={() => {goToLevel(displayLevel + level)}}>\n                <span className=\"level-label\">\n                    Level {displayLevel + level}\n                </span>\n              </div>\n            )\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport { FaChevronUp, FaAngleDoubleUp, FaArrowDown, FaAngleDoubleDown } from \"react-icons/fa\";\n\n\nexport default class ContextMenu extends React.Component {\n  render() {\n    const {\n      show,\n      focusUser,\n      addUser,\n      toggleDetailsModalOn\n    } = this.props;\n\n    return(\n      <nav id=\"context-menu\" className=\"context-menu\" style={{display: show ? 'block' : 'none'}}>\n        {focusUser && (\n          <div>\n            <div id=\"context-menu__user\">\n              {focusUser.username}\n            </div>\n            <div id=\"context-menu__options\">\n              <ul className=\"context-menu__items\">\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    onClick={() => {\n                      toggleDetailsModalOn(focusUser)\n                    }}>\n                    View User\n                  </button>\n                </li>\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    disabled={focusUser.left_child_id !== null}\n                    onClick={() => {\n                      addUser(focusUser, 'left_child_id')\n                    }}\n                  >\n                    Add left leg\n                  </button>\n                </li>\n                <li className=\"context-menu__item\">\n                  <button\n                    className=\"context-menu__link\"\n                    disabled={focusUser.right_child_id !== null}\n                    onClick={() => {\n                      addUser(focusUser, 'right_child_id')\n                    }}\n                  >\n                    Add right leg\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </nav>\n    )\n  }\n}\n","import React from \"react\";\nimport { FaChevronUp, FaAngleDoubleUp, FaArrowDown, FaAngleDoubleDown } from \"react-icons/fa\";\n\n\nexport default class NavButtons extends React.Component {\n  render() {\n    const {\n      rootUser,\n      selectedUser,\n      selectedUserLevel,\n      displayLevel,\n      bgButton,\n      colorButton,\n      depth,\n      goToTop,\n      upOneLevel,\n      downOneLevel,\n      goToBottomLeft,\n      goToBottomRight,\n      searchUserHandler,\n      goToLevelHandler\n    } = this.props;\n\n    return(\n      <div className=\"navigation\">\n        <div style={{marginBottom: '5px'}}>\n          <label>Go to user</label>\n          <input id=\"searchUser\" name=\"searchUser\" list=\"usernames\" onInput={searchUserHandler}></input>\n          <input type=\"hidden\" name=\"searchUser\" id=\"searchUser-hidden\"/>\n        </div>\n        <div style={{marginBottom: '5px'}}>\n          <label>Go to level</label>\n          <input id=\"goToLevel\" type=\"number\" min=\"0\" max={depth-1} onChange={goToLevelHandler}></input>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={goToTop}\n            disabled={selectedUserLevel + displayLevel === 0}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaChevronUp />\n            </i>\n            <span className=\"button-text\">Go to top</span>\n          </button>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={upOneLevel}\n            disabled={selectedUserLevel + displayLevel === 0}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaAngleDoubleUp />\n            </i>\n            <span className=\"button-text\">Up one level</span>\n          </button>\n        </div>\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            className=\"button-tree\"\n            onClick={downOneLevel}\n            disabled={selectedUserLevel >= depth - 1}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaAngleDoubleDown />\n            </i>\n            <span className=\"button-text\">Down</span>\n          </button>\n        </div>\n        <div className=\"buttons buttons-bottom\">\n          <button\n            className=\"button-left button-tree\"\n            type=\"button\"\n            onClick={goToBottomLeft}\n            disabled={!selectedUser.left_child_id}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaArrowDown />\n            </i>\n            <span className=\"button-text\">Bottom left</span>\n          </button>\n          <button\n            className=\"button-right button-tree\"\n            type=\"primary\"\n            onClick={goToBottomRight}\n            disabled={!selectedUser.right_child_id}\n            style={{backgroundColor: bgButton, color: colorButton}}\n          >\n            <i>\n              <FaArrowDown />\n            </i>\n            <span className=\"button-text\">Bottom right</span>\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","function inNeighbors(id,graph,labels){\n  return graph.filter(node => labels.some(label => label in node && node[label] === id)).map(node => node.id)\n}\n\nfunction outNeighbors(id,graph,labels){\n  for(const node of graph){\n    if(node.id === id){\n      return labels.filter(label => label in node && node[label] !== null).map(label => node[label])\n    }\n  }\n}\n\nfunction hasPath(graph,labels,node1, node2, closed){\n  const node1_out = outNeighbors(node1,graph,labels)\n  return node1_out.includes(node2) || node1_out.some(id => !(closed.includes(id)) && hasPath(graph,labels,id,node2, closed.concat([node1])))\n}\n\nfunction getNodeCycles(id, graph, labels, prefix){\n  for(const node of graph){\n    if(node.id === id){\n      const nodeCycles = labels.filter(\n            label => label in node && node[label] !== null\n        ).map(\n            label => !(prefix.includes(node[label])) ? getNodeCycles(node[label], graph, labels, prefix.concat([node[label]])) : [prefix.concat([node[label]])]\n        ).flat()\n      return nodeCycles;\n    }\n  }\n}\n\nfunction getCycles(graph,labels){\n  var cycles = [];\n  for(const node of graph){\n    var inCycle = false;\n    for(const cycle of cycles){\n      for(const id of cycle){\n        if(node.id === id){\n          inCycle = true;\n          break;\n        }\n      }\n      if(inCycle){\n        break;\n      }\n    }\n    if(inCycle){\n      continue;\n    }\n    cycles = cycles.concat(getNodeCycles(node.id,graph,labels,[node.id]))\n  }\n  return cycles;\n}\n\nfunction getRoots(graph,labels){\n  return graph.filter(node => inNeighbors(node.id,graph,labels).length === 0)\n}\n\nfunction uniqueNodes(graph){\n  let checked = []\n  for(const node in graph){\n    if(checked.includes(node.id)){\n      return false;\n    }\n    checked.push(node.id)\n  }\n  return true;\n}\n\nfunction checkTree(graph,labels){\n  // assert all nodes have unique ids\n  let checked = []\n  for(const node of graph){\n    if(checked.includes(node.id)){\n      throw `checkTree: node id \"${node.id}\" occurs more than once`\n    }\n    checked.push(node.id)\n  }\n\n  // assert that the graph is rooted\n  const roots = getRoots(graph,labels)\n  if(roots.length === 0){\n    throw `checkTree: graph has no root`\n  }\n  if(roots.length > 1){\n    throw `checkTree: graph has multiple roots: ${roots.map(root => root.id)}`\n  }\n  const root = roots[0]\n\n  // assert that the nodes have in-degree at most 1\n  for(const node of graph){\n    const parents = inNeighbors(node.id,graph,labels)\n    if(parents.length > 1){\n      throw `checkTree: node ${node.id} has multiple parents: ${parents}`\n    }\n  }\n\n  // assert there are no cycles\n  const cycles = getCycles(graph,labels)\n  if(cycles.length > 0){\n    throw `checkTree: graph contains cycles: ${cycles}`\n  }\n\n  // assert the graph is connected\n  // NOTE: this should actually be redundant given the other checks\n  for(const node of graph){\n    if(node.id !== root.id && !hasPath(graph,labels,root.id,node.id,[])){\n      throw `checkTree: node ${node.id} is disconnected from root`\n    }\n  }\n\n  return true;\n}\n\nfunction depthUnderNode(id, tree, labels, current_depth){\n  // Depth can't exceed the # of nodes; use this property to force termination with error\n  if(current_depth > tree.length){\n    throw `depth: termination check, current_depth ${current_depth} exceeds # of nodes in tree, ${tree.length}`\n  }\n  for(const node of tree){\n    if(node.id === id){\n      return 1 + Math.max(...(labels.map(label => (label in node && node[label] !== null) ? depthUnderNode(node[label],tree,labels, current_depth+1) : 0)))\n    }\n  }\n  throw `depth: node id=${id} not found in graph`\n}\n\nfunction depth(tree,labels){\n  if(tree.length === 0){\n    return 0;\n  }\n  const roots = getRoots(tree,labels)\n  // If there is no root then there's no meaningful place to measure depth from.\n  if(roots.length === 0){\n    throw `depth: no root found`\n  }\n  // If there are multiple roots then the depth is the max of the depths under each root\n  return Math.max(...(roots.map(root => depthUnderNode(root.id,tree,labels,0))))\n}\n\nfunction getNodesAtDepthUnderNodes(tree,labels,d,nodes){\n  if(d === 0){\n    return nodes\n  }\n  return getNodesAtDepthUnderNodes(tree, labels, d-1, nodes.map(node => outNeighbors(node,tree,labels)).flat())\n}\n\nfunction getNodesAtDepthUnderNode(tree,labels,d,node){\n  return getNodesAtDepthUnderNodes(tree,labels,d,[node])\n}\n\nfunction getNodesAtDepth(tree,labels,d){\n  if(d < 0 || !Number.isInteger(d)){\n    throw `getNodesAtDepth: depth ${d} must be non-negative integer`\n  }\n  const roots = getRoots(tree,labels).map(node => node.id)\n  if(roots.length === 0){\n    throw `getNodesAtDepth: no root found`\n  }\n  return getNodesAtDepthUnderNodes(tree,labels,d,roots)\n}\n\n\nexport {checkTree, depth, depthUnderNode, getNodesAtDepthUnderNode}\n","import React from \"react\";\nimport BinaryTreeNode from \"./BinaryTreeNode\";\nimport \"./BinaryTree.scss\";\nimport DistributorDetailsModal from './DistributorDetailsModal'\nimport LeftSidebar from './LeftSidebar'\nimport ContextMenu from './ContextMenu'\nimport NavButtons from './NavButtons'\nimport {checkTree, depth, getNodesAtDepthUnderNode, depthUnderNode} from './util.js'\n\nexport default class BinaryTree extends React.Component {\n  constructor(props) {\n    super(props);\n    checkTree(props.allUsers,['left_child_id','right_child_id'])\n    this.state = {\n      selectedUser: props.rootUser, // user acting as current root\n      selectedUserLevel: props.level, // depth of selectedUser under root\n      displayLevel: props.level, // depth to display\n      depth: depth(props.allUsers,['left_child_id','right_child_id']), // depth of whole tree\n      showContextMenu: false,\n      showContextMenuEdit: false,\n      focusUser: null,\n      showDetailsModal: false,\n      edit: false\n    };\n  }\n  render() {\n    const {\n      allUsers = [],\n      imageFake,\n      nameFake,\n      maxDeep,\n      renderDetail,\n      renderNode,\n      disableNavigation = false,\n      disableSideBar = false,\n      bgSideBar = '#00b6eb',\n      colorSideBar = '#ffffff',\n      colorText,\n      bgButton = '#808285',\n      colorButton = '#ffffff',\n      showContextMenu\n    } = this.props;\n\n    let rootUser = this.props.rootUser;\n    let selectedUserLevel = this.state.selectedUserLevel;\n    let currentRoots = getNodesAtDepthUnderNode(allUsers,['left_child_id','right_child_id'],this.state.displayLevel - this.state.selectedUserLevel,this.state.selectedUser.id).map(root_id => allUsers.find(user => user.id === root_id))\n    let depthUnderUser = depthUnderNode(this.state.selectedUser.id,allUsers,['left_child_id','right_child_id'],0)\n    let numLevels = Math.min(maxDeep, depthUnderUser - (this.state.displayLevel - this.state.selectedUserLevel))\n\n    const genId = () => {\n      return Math.max(...allUsers.map(user => user.id)) + 1\n    }\n\n    const goToTop = () => {\n      this.setState({\n        selectedUser: this.props.rootUser,\n        selectedUserLevel: 0,\n        displayLevel: 0\n      });\n    };\n    const goToBottomLeft = () => {\n      let user = rootUser;\n      let level = selectedUserLevel;\n      while (user && user.left_child_id) {\n        user = allUsers.find(item => item.id === user.left_child_id);\n        level++;\n      }\n      if (user) {\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    };\n    const goToBottomRight = () => {\n      let user = rootUser;\n      let level = selectedUserLevel;\n      while (user && user.right_child_id) {\n        user = allUsers.find(item => item.id === user.right_child_id);\n        level++;\n      }\n      if (user) {\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    };\n\n    const upOneLevel = () => {\n      if(this.state.displayLevel > 0){\n        this.setState({\n          displayLevel: this.state.displayLevel - 1\n        })\n      }\n    };\n\n    const downOneLevel = () => {\n      if(this.state.displayLevel < depthUnderUser - 1){\n        this.setState({\n          displayLevel: this.state.displayLevel + 1\n        })\n      }\n    }\n\n    const goToLevel = (level) => {\n      if(level < 0){\n        return\n      }\n      if(level >= this.state.selectedUserLevel){\n        this.setState({\n          displayLevel: level\n        })\n      }else{\n        let currentUser = this.state.selectedUser\n        let currentLevel = this.state.selectedUserLevel - level\n        while(currentLevel > 0){\n          currentUser=this.props.allUsers.find(\n            (user) =>\n              user.left_child_id === currentUser.id ||\n              user.right_child_id === currentUser.id\n          )\n          currentLevel--\n        }\n        this.setState({\n          selectedUser: currentUser,\n          selectedUserLevel: level,\n          displayLevel: level\n        })\n      }\n    }\n\n    const goToLevelHandler = () => {\n      const level = parseInt(document.getElementById(\"goToLevel\").value)\n      if((!isNaN(level)) && level < this.state.depth){\n        goToLevel(level)\n      }\n    }\n\n    const goToUser = (user) => {\n      if(user){\n        let level = -1;\n        let currentUser = user;\n        while(currentUser){\n          currentUser=this.props.allUsers.find(\n            (user) =>\n              user.left_child_id === currentUser.id ||\n              user.right_child_id === currentUser.id,\n          );\n          level++;\n        }\n        this.setState({\n          selectedUser: user,\n          selectedUserLevel: level,\n          displayLevel: level\n        });\n      }\n    }\n\n    const searchUserHandler = (e) => {\n      var input = e.target,\n          list = input.getAttribute('list'),\n          options = document.querySelectorAll('#' + list + ' option[value=\"'+input.value+'\"]'),\n          hiddenInput = document.getElementById(input.getAttribute('id') + '-hidden');\n\n      if (options.length > 0) {\n        hiddenInput.value = input.value;\n        input.value = options[0].innerText;\n        const user = allUsers.find(item => item.id === parseInt(hiddenInput.value));\n        goToUser(user)\n      }\n    }\n\n    const onClickUser = (userId) => {\n      const user = allUsers.find(item => item.id === userId);\n      goToUser(user)\n    }\n\n    const getPosition = (e) => {\n      var posx = 0;\n      var posy = 0;\n\n      if (!e) var e = window.event;\n\n      if (e.pageX || e.pageY) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else if (e.clientX || e.clientY) {\n        posx = e.clientX + document.body.scrollLeft +\n                           document.documentElement.scrollLeft;\n        posy = e.clientY + document.body.scrollTop +\n                           document.documentElement.scrollTop;\n      }\n\n      return {\n        x: posx,\n        y: posy\n      }\n    }\n\n    const positionMenu = (e) => {\n      var menu = document.querySelector(\"#context-menu\")\n      var menuPosition = getPosition(e);\n      var menuPositionX = menuPosition.x + \"px\";\n      var menuPositionY = menuPosition.y + \"px\";\n\n      menu.style.left = menuPositionX;\n      menu.style.top = menuPositionY;\n    }\n\n    const toggleContextMenu = (user , e) => {\n      positionMenu(e)\n      this.setState({\n        showContextMenu: true,\n        showContextMenuEdit: user.edit,\n        focusUser: user\n      });\n      document.onclick = toggleMenuOff;\n\n    };\n    const toggleMenuOff = () => {\n      this.setState({\n        showContextMenu: false,\n        showContextMenuEdit: false\n      })\n      document.onclick = null;\n    }\n    const toggleDetailsModalOn = (user) => {\n      this.setState({\n        showDetailsModal: true,\n        focusUser: user,\n        edit: false\n      })\n    }\n    const toggleDetailsModalOff = () => {\n      this.setState({\n        showDetailsModal: false,\n        focusUser: null,\n        edit: false\n      })\n    }\n\n    const toggleEdit = () => {\n      this.setState({\n        edit: true\n      })\n    }\n\n    const applyChange = (e) => {\n      if(e.charCode === 13){\n        const value = document.getElementById(\"input-username\").value\n        this.setState({\n          edit: false\n        })\n        this.state.focusUser.username = value;\n      }\n    }\n\n    const addUser = (user,leg) => {\n      const newId = genId()\n      const newUser = {\n        id: newId,\n        left_child_id: null,\n        right_child_id: null,\n        username: '',\n        image: \"https://i.imgur.com/yzUDPMJ.png\"\n      }\n      allUsers.push(newUser)\n      user[leg] = newId\n      toggleDetailsModalOn(newUser)\n      toggleEdit()\n    }\n\n\n\n    const onFileUploadChange = (e) => {\n    \tvar file = e.target.files[0];\n    \tvar fr = new FileReader();\n    \tfr.onload = onFileReaderLoad;\n    \tfr.readAsDataURL(file);\n    }\n\n    const onFileReaderLoad = (e) => {\n      this.state.focusUser.image = e.target.result\n      this.forceUpdate()\n    }\n\n    return (\n      <div id=\"binary-tree\" className=\"Treant\">\n        {disableNavigation, bgButton, colorButton && (\n          <NavButtons\n            rootUser={rootUser}\n            selectedUser={this.state.selectedUser}\n            selectedUserLevel={this.state.selectedUserLevel}\n            displayLevel={this.state.displayLevel}\n            bgButton={bgButton}\n            colorButton={colorButton}\n            depth={this.state.depth}\n            goToTop={goToTop}\n            upOneLevel={upOneLevel}\n            downOneLevel={downOneLevel}\n            goToBottomLeft={goToBottomLeft}\n            goToBottomRight={goToBottomRight}\n            searchUserHandler={searchUserHandler}\n            goToLevelHandler={goToLevelHandler}\n          />\n        )}\n        {\n          (selectedUserLevel,\n          disableSideBar, bgSideBar, colorSideBar && (\n            <LeftSidebar\n              bgSideBar={bgSideBar}\n              colorSideBar={colorSideBar}\n              displayLevel={this.state.displayLevel}\n              numLevels={numLevels}\n              goToLevel={goToLevel}\n            />\n          ))\n        }\n        <div className=\"tree\">\n          <ul>\n            {\n              currentRoots.map(root =>\n                <BinaryTreeNode\n                  allUsers={allUsers}\n                  user={root}\n                  deep={1}\n                  maxDeep={maxDeep}\n                  renderDetail={renderDetail}\n                  renderNode={renderNode}\n                  onClick={onClickUser}\n                  colorText={colorText}\n                  imageFake={imageFake}\n                  nameFake={nameFake}\n                  toggleContextMenu={toggleContextMenu}\n                  key={root.id}\n                />\n              )\n            }\n          </ul>\n        </div>\n        <ContextMenu\n          show={this.state.showContextMenu}\n          focusUser={this.state.focusUser}\n          addUser={addUser}\n          toggleDetailsModalOn={toggleDetailsModalOn}\n        />\n        <DistributorDetailsModal\n          show={this.state.showDetailsModal}\n          user={this.state.focusUser}\n          close={toggleDetailsModalOff}\n          edit={this.state.edit}\n          toggleEdit={toggleEdit}\n          applyChange={applyChange}\n          onFileUploadChange={onFileUploadChange}\n\n        />\n        <datalist id=\"usernames\">\n          {\n            allUsers.map(user =>(\n              <option key={user.id} value={user.id}>{user.username}</option>\n            ))\n          }\n        </datalist>\n      </div>\n    );\n  }\n}\n","import BinaryTree from \"./components/BinaryTree\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default BinaryTree;","import React from \"react\";\nimport BinaryTree from \"../lib\";\nimport \"./App.scss\";\n\nconst data = [\n  {\n    id: 1,\n    left_child_id: 2,\n    right_child_id: 3,\n    username: \"User 1\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 2,\n    left_child_id: 4,\n    right_child_id: 5,\n    username: \"User 2\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 3,\n    left_child_id: 6,\n    right_child_id: null,\n    properties:{\n      username: \"User 3\"\n    },\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 4,\n    left_child_id: 7,\n    right_child_id: 8,\n    username: \"User 4\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 5,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 5\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 6,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 6\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\",\n    edit: false\n  },\n  {\n    id: 7,\n    left_child_id: 9,\n    right_child_id: null,\n    username: \"User 7\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 8,\n    left_child_id: null,\n    right_child_id: 10,\n    username: \"User 8\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 9,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 9\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n  {\n    id: 10,\n    left_child_id: null,\n    right_child_id: null,\n    username: \"User 10\",\n    image: \"https://i.imgur.com/yzUDPMJ.png\"\n  },\n];\n\nwindow.addEventListener('resize', () => {\n  let vw = window.innerWidth * 0.01;\n  document.documentElement.style.setProperty('--vw', `${vw}px`);\n})\n\nexport default class App extends React.Component {\n\n  render() {\n    return (\n      <div className=\"app\">\n        <h1>Demo Tree - By Tùng Vũ</h1>\n        <BinaryTree\n          allUsers={data}\n          rootUser={data[0]}\n          maxDeep={4}\n          level={0}\n          bgSideBar={'#333'}\n          colorText={'#333'}\n          colorSideBar={'#fff'}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./examples/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}